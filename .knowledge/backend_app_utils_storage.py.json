{"is_source_file": true, "format": "Python", "description": "This file provides utility functions for handling receipt file uploads and retrieval in a Flask web application. It includes functions to save uploaded receipt files safely and retrieve their storage paths, leveraging Flask's current app configuration and Werkzeug utilities.", "external_files": ["os", "uuid", "flask.current_app", "werkzeug.datastructures.FileStorage", "werkzeug.utils.secure_filename"], "external_methods": ["current_app.config.get", "os.makedirs", "FileStorage.save", "secure_filename"], "published": ["save_receipt_file", "get_receipt_path"], "classes": [], "methods": [{"name": "str _upload_dir()", "description": "Returns the upload directory path from app config or defaults to a 'receipts' directory in current working directory, creating it if necessary.", "scope": "", "scopeKind": ""}, {"name": "str save_receipt_file(file: FileStorage, filename: Optional[str] = None)", "description": "Saves an uploaded receipt file to the server, either using a provided filename or generating a UUID-based filename, and returns the saved filename.", "scope": "", "scopeKind": ""}, {"name": "str get_receipt_path(filename: str)", "description": "Constructs and returns the absolute file path for a stored receipt filename.", "scope": "", "scopeKind": ""}], "calls": ["current_app.config.get", "os.makedirs", "file.save", "secure_filename"], "search-terms": ["save_receipt_file", "get_receipt_path", "UPLOAD_FOLDER", "receipt", "file storage", "file upload", "uuid", "Flask app config"], "state": 2, "file_id": 9, "knowledge_revision": 20, "git_revision": "8e0e410df90fbd6b584f5b408bd27c83fde38365", "ctags": [{"_type": "tag", "name": "_upload_dir", "path": "/home/kavia/workspace/code-generation/expense-splitter-with-receipts-158093-158103/backend/app/utils/storage.py", "pattern": "/^def _upload_dir() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_receipt_path", "path": "/home/kavia/workspace/code-generation/expense-splitter-with-receipts-158093-158103/backend/app/utils/storage.py", "pattern": "/^def get_receipt_path(filename: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(filename: str)"}, {"_type": "tag", "name": "save_receipt_file", "path": "/home/kavia/workspace/code-generation/expense-splitter-with-receipts-158093-158103/backend/app/utils/storage.py", "pattern": "/^def save_receipt_file(file: FileStorage, filename: Optional[str] = None) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(file: FileStorage, filename: Optional[str] = None)"}], "hash": "fb7a1ddc87fd7e13b10eb81a942c951e", "format-version": 4, "code-base-name": "backend", "filename": "backend/app/utils/storage.py", "revision_history": [{"20": "8e0e410df90fbd6b584f5b408bd27c83fde38365"}]}